(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(178)},169:function(e,t,a){},170:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),s=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(115);var A=a(185),i=a(10),o=a(12),c=Object(o.a)(),u=a(98),m=function(e){var t=e.isLoggedIn,a=(e.user,Object(u.a)(e,["isLoggedIn","user"]));return t?r.a.createElement(A.b,a):r.a.createElement(A.a,{to:"/login"})},h=a(31),p=a(32),g=a(34),d=a(33),E=a(35),f="LOGIN_REQUEST",b="LOGIN_SUCCESS",w="LOGIN_FAILURE",v="PLANET_REQUEST",I="PLANET_SUCCESS",C="PLANET_FAILURE",S="LOGOUT",O={apiUrl:"https://swapi.co/api/"},Q={search:function(e){return fetch("".concat(O.apiUrl,"planets/?search=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(j)}};function j(e){return e.text().then(function(t){if(!e.ok){var a=t||e.statusText;return Promise.reject(a)}return(t&&JSON.parse(t)).results})}var M={search:function(e){return function(t){t(function(e){return{type:v,name:e}}({name:e})),Q.search(e).then(function(e){t({type:I,planets:e})},function(e){t(function(e){return{type:C,error:e}}(e.toString()))})}}};var k=a(183),y=a(184),D={login:function(e,t){return fetch("".concat(O.apiUrl,"people/?search=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(G).then(function(e){return 0===e.results.length?Promise.reject("Invalid User"):e.results[0].birth_year===t?(localStorage.setItem("user",e.results[0].name),e.results[0].name):Promise.reject("Invalid User")})},logout:function(){localStorage.removeItem("user")}};function G(e){return e.text().then(function(t){if(!e.ok){var a=t||e.statusText;return Promise.reject(a)}return t&&JSON.parse(t)}).catch(function(e){return Promise.reject(e)})}var L={login:function(e,t){return function(a){a({type:f,user:{email:e}}),D.login(e,t).then(function(e){console.log(e),a(function(e){return{type:b,user:e}}(e)),c.push("/dashboard")},function(e){a(function(e){return{type:w,error:e}}(e.toString()))})}},logout:function(){return console.log(111),D.logout(),{type:S}}};var B=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(p.a)(t,[{key:"handleLogout",value:function(){L.logout(),c.push("/login")}},{key:"render",value:function(){return r.a.createElement(k.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(k.a.Brand,{href:"#home"},"Star Wars"),r.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(y.a.Link,{href:"/"},"Dashboard")),r.a.createElement(y.a,null,r.a.createElement(y.a.Link,{href:"#",onClick:this.handleLogout.bind(this)},"Logout"))))}}]),t}(n.Component),N=a(180),U=a(181),K=Object(i.b)(function(e,t){return{planet:t.planet}})(function(e){var t=e.planet;return r.a.createElement(N.a,null,r.a.createElement(U.a,{md:12},r.a.createElement("h1",null,"Planet Details"),r.a.createElement("div",null,r.a.createElement("label",null,"Name:"),r.a.createElement("span",null,t.name)),r.a.createElement("div",null,r.a.createElement("label",null,"Population:"),r.a.createElement("span",null,t.population)),r.a.createElement("div",null,r.a.createElement("label",null,"Rotation Period:"),r.a.createElement("span",null,t.rotation_period)),r.a.createElement("div",null,r.a.createElement("label",null,"Orbital Period:"),r.a.createElement("span",null,t.orbital_period)),r.a.createElement("div",null,r.a.createElement("label",null,"Diameter:"),r.a.createElement("span",null,t.diameter)),r.a.createElement("div",null,r.a.createElement("label",null,"Climate:"),r.a.createElement("span",null,t.climate)),r.a.createElement("div",null,r.a.createElement("label",null,"Gravity:"),r.a.createElement("span",null,t.gravity)),r.a.createElement("div",null,r.a.createElement("label",null,"Terrain:"),r.a.createElement("span",null,t.terrain)),r.a.createElement("div",null,r.a.createElement("label",null,"Surface Water:"),r.a.createElement("span",null,t.surface_water))))}),T=a(104),J=a.n(T),Y=a(105),P=a(182),R=(a(169),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(d.a)(t).call(this,e))).state={input:"",selected:null,lastMinuteSearches:0,lastMinuteSearchTime:null},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"getFontSize",value:function(e){var t=J.a.map(this.props.planets,function(e){return parseInt(e.population)});console.log(t);var a=Object(Y.quantileRank)(t,parseInt(e.population));return console.log(a),50*a}},{key:"selectItem",value:function(e){this.setState({selected:e})}},{key:"search",value:function(e){this.setState({input:e.target.value,full:!1,selected:null}),e.target.value&&(this.state.lastMinuteSearchTime?((new Date).getTime()-this.state.lastMinuteSearchTime.getTime())/1e3>60?(this.setState({lastMinuteSearches:1,lastMinuteSearchTime:new Date}),this.props.search(e.target.value)):this.state.lastMinuteSearches<15?(this.setState({lastMinuteSearches:this.state.lastMinuteSearches+1,lastMinuteSearchTime:new Date}),this.props.search(e.target.value)):"Luke Skywalker"===this.props.user?(this.setState({lastMinuteSearches:this.state.lastMinuteSearches+1,lastMinuteSearchTime:new Date}),this.props.search(e.target.value)):this.setState({full:!0}):(this.setState({lastMinuteSearches:1,lastMinuteSearchTime:new Date}),this.props.search(e.target.value)))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement(P.a,{fluid:!0,className:"wrapper"},r.a.createElement(N.a,null,r.a.createElement(U.a,{md:6},r.a.createElement(N.a,null,r.a.createElement(U.a,{md:12,className:"input-wrap"},r.a.createElement("input",{type:"text",onChange:this.search.bind(this),value:this.state.input,placeholder:"Enter the name to search"}),this.props.loading&&r.a.createElement("img",{alt:"",className:"loader",src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}))),this.state.full&&r.a.createElement(N.a,{className:"error"},r.a.createElement(U.a,{md:12},"Please wait. Only 15 searches are allowed within a minute.")),this.state.input&&this.props.planets.length&&!this.props.loading?r.a.createElement(N.a,{className:"list"},r.a.createElement(U.a,{md:12},r.a.createElement("ul",null,this.props.planets.map(function(t,a){return r.a.createElement("li",{title:t.name+" - Click to view details",onClick:e.selectItem.bind(e,t),key:a,style:{fontSize:e.getFontSize(t)}},t.name)})))):""),this.state.selected&&this.state.input&&r.a.createElement(U.a,{md:6},r.a.createElement(K,{planet:this.state.selected})))))}}]),t}(n.Component)),H=Object(i.b)(function(e){return{user:e.user.user,planets:e.planet.planets,loading:e.planet.loading,error:e.planet.error}},function(e){return{search:function(t){return e(M.search(t))}}})(R),x=a(49),F=a(21),W=(a(170),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(d.a)(t).call(this,e))).props.logout(),a.state={userName:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(F.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(F.a)(a)),a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(x.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.userName,n=t.password;a&&n&&this.props.login(a,n)}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,a=t.userName,n=t.password,l=t.submitted;return r.a.createElement("div",{className:"content login-box"},r.a.createElement(P.a,{fluid:!0},r.a.createElement(N.a,null,r.a.createElement(U.a,{md:12,className:"login-box"},r.a.createElement("h1",null,"Star Wars Login"),r.a.createElement("form",{name:"loginForm",onSubmit:this.handleSubmit},r.a.createElement(N.a,null,r.a.createElement(U.a,{md:12},r.a.createElement("input",{label:"User Name",type:"text",className:"form-control",placeholder:"User Name",value:a,name:"userName",onChange:this.handleChange}))),l&&!a&&r.a.createElement("div",{className:"help-block"},"User name is required"),r.a.createElement(N.a,null,r.a.createElement(U.a,{md:12},r.a.createElement("input",{label:"Password",type:"password",className:"form-control",placeholder:"Password",value:n,autoComplete:"false",name:"password",onChange:this.handleChange}))),l&&!n&&r.a.createElement("div",{className:"help-block"},"Password is required"),r.a.createElement("button",{disabled:e,onClick:this.handleSubmit,className:"btn btn-info",type:"button"},"Login"),e&&r.a.createElement("img",{alt:"",src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),this.props.error&&r.a.createElement("div",{className:"error"},this.props.error),r.a.createElement("div",{className:"clearfix"}))))))}}]),t}(n.Component));var z=Object(i.b)(function(e){var t=e.user;return{loggingIn:t.loggingIn,error:t.error}},function(e){return{login:function(t,a){return e(L.login(t,a))},logout:function(){return e(L.logout())}}})(W),V=Object(i.b)(function(e){return{isLoggedIn:e.user.isLoggedIn,user:e.user.user}})(function(e){var t=e.isLoggedIn,a=e.user;e.topbar;return r.a.createElement("div",{className:"app"},r.a.createElement(A.c,{history:c},r.a.createElement(A.d,null,r.a.createElement(A.b,{path:"/login",component:z}),r.a.createElement(m,{path:"/dashboard",isLoggedIn:t,component:H,user:a}),r.a.createElement(A.a,{to:"/dashboard",component:H}))))}),Z=a(27),q=a(106),_=a(107),X=a(17),$=localStorage.getItem("user")||null,ee=$?{isLoggedIn:!0,user:$}:{},te=Object(Z.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(X.a)({},e,{loggingIn:!0,user:t.user});case b:return Object(X.a)({},e,{isLoggedIn:!0,user:t.user,loggingIn:!1,error:""});case w:return Object(X.a)({},e,{error:t.error,loggingIn:!1});case S:return Object(X.a)({},e,{isLoggedIn:!1,user:null});default:return e}},planet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{planets:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(X.a)({},e,{loading:!0});case I:return Object(X.a)({},e,{loading:!1,planets:t.planets});case C:return Object(X.a)({},e,{error:t.error});default:return e}}}),ae=Object(_.createLogger)({predicate:function(e,t){return!1}}),ne=Object(Z.d)(te,Object(Z.a)(q.a,ae));a(171),a(172),a(173),a(174),a(177);s.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.8b9870e2.chunk.js.map